___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "displayName": "Intent",
  "description": "Intent",
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABIppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDphMWNlMjJkNy1iMTVlLTQxYjgtYWE2Ni1lOWRjODY3MTBmNDk8L3N0UmVmOmluc3RhbmNlSUQ+CiAgICAgICAgICAgIDxzdFJlZjpkb2N1bWVudElEPnhtcC5kaWQ6ZGFlMWY4ZWQtN2YyZC00ODhkLTgwZTktMGFhYTAzYjBiNGJmPC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjVCQ0E0NUJEQjZGMjExRTVCMDVGQUUxMjE4MTlEQjMwPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjVC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",
    "displayName": "",
    "id": "brand_dummy"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "help": "Unique site id provided by Intent Media; all caps, no spaces, no special characters e.g. \u0027MYSITE_US\u0027",
    "alwaysInSummary": true,
    "displayName": "Site Name",
    "simpleValueType": true,
    "name": "site_name",
    "type": "TEXT"
  },
  {
    "help": "Unique page id provided by Intent Media; e.g. \u0027flight.home\u0027. Must be combination of Product (flight, hotel, car or package) and Page (home, list, details or confirmation)",
    "alwaysInSummary": true,
    "displayName": "Page ID",
    "simpleValueType": true,
    "name": "page_id",
    "type": "TEXT"
  },
  {
    "help": "2 letter ISO country code of the website version that was loaded; e.g. \u0027us\u0027",
    "alwaysInSummary": true,
    "displayName": "Site Country",
    "simpleValueType": true,
    "name": "site_country",
    "type": "TEXT"
  },
  {
    "help": "2 letter ISO code for the language the website page is rendered in; e.g. \u0027en\u0027",
    "alwaysInSummary": true,
    "displayName": "Site Language",
    "simpleValueType": true,
    "name": "site_language",
    "type": "TEXT"
  },
  {
    "help": "3 letter ISO currency code for the transaction",
    "alwaysInSummary": true,
    "displayName": "Site Currency",
    "simpleValueType": true,
    "name": "site_currency",
    "type": "TEXT"
  },
  {
    "help": "Do not change unless provided with custom URL by Intent Media",
    "displayName": "Custom Tag URL",
    "defaultValue": "https://a.cdn.intentmedia.net/javascripts/v1/intent_media_core.js",
    "simpleValueType": true,
    "name": "tag_url",
    "type": "TEXT",
    "valueValidators": [
      {
        "type": "REGEX",
        "args": [
          "^https:\\/\\/a\\.cdn\\.intentmedia\\.net\\/javascripts\\/v1\\/.*$"
        ]
      }
    ]
  },
  {
    "help": "Select the corresponding variables that will enrich the tag with travel intents.",
    "displayName": "Tag Parameters",
    "name": "tag_param_array",
    "paramTableColumns": [
      {
        "param": {
          "macrosInSelect": false,
          "selectItems": [
            {
              "displayValue": "Visitor ID (GUID)",
              "value": "visitor_id"
            },
            {
              "displayValue": "Referrer Source (string)",
              "value": "referrer_source"
            },
            {
              "displayValue": "Referrer Channel (string)",
              "value": "referrer_channel"
            },
            {
              "displayValue": "User Member ID (string)",
              "value": "member_id"
            },
            {
              "displayValue": "Outward Travel Date (yyyymmdd)",
              "value": "travel_date_start"
            },
            {
              "displayValue": "Return Travel Date (yyyymmdd)",
              "value": "travel_date_end"
            },
            {
              "displayValue": "Number of Travellers (integer)",
              "value": "travelers"
            },
            {
              "displayValue": "Number of Rooms (integer)",
              "value": "rooms"
            },
            {
              "displayValue": "Trip Type (roundtrip, oneway)",
              "value": "trip_type"
            },
            {
              "displayValue": "Origin Airport (three letter IATA code)",
              "value": "origin_airport"
            },
            {
              "displayValue": "Origin City (string)",
              "value": "origin_city"
            },
            {
              "displayValue": "Origin State (string, US/CA destinations only)",
              "value": "origin_state"
            },
            {
              "displayValue": "Origin Country (string)",
              "value": "origin_country"
            },
            {
              "displayValue": "Car Pickup Time (HHMM)",
              "value": "pickup_time"
            },
            {
              "displayValue": "Destination Airport (three letter IATA code)",
              "value": "destination_airport"
            },
            {
              "displayValue": "Destination City (string)",
              "value": "destination_city"
            },
            {
              "displayValue": "Destination State (string, US/CA destinations only)",
              "value": "destination_state"
            },
            {
              "displayValue": "Destination Country (string)",
              "value": "destination_country"
            },
            {
              "displayValue": "Car Dropoff Time (HHMM)",
              "value": "dropoff_time"
            },
            {
              "displayValue": "Hotel Property Name (string)",
              "value": "property_name"
            },
            {
              "displayValue": "Hotel Property ID (integer)",
              "value": "hotel_property_id"
            },
            {
              "displayValue": "Conversion Value (decimal 2dp)",
              "value": "conversion_value"
            },
            {
              "displayValue": "Order ID (string)",
              "value": "order_id"
            },
            {
              "displayValue": "Transaction Type (BOOKING, CLICKOUT)",
              "value": "transaction_type"
            }
          ],
          "displayName": "Tag Parameter",
          "simpleValueType": true,
          "name": "tag_param",
          "type": "SELECT"
        },
        "isUnique": false
      },
      {
        "param": {
          "macrosInSelect": true,
          "selectItems": [
            {
              "displayValue": "Transaction Type: Booking",
              "value": "BOOKING"
            },
            {
              "displayValue": "Transaction Type: Clickout",
              "value": "CLICKOUT"
            },
            {
              "displayValue": "Trip Type: One-Way",
              "value": "oneway"
            },
            {
              "displayValue": "Trip Type: Return",
              "value": "roundtrip"
            }
          ],
          "displayName": "Value",
          "simpleValueType": true,
          "name": "tag_param_value",
          "type": "SELECT"
        },
        "isUnique": false
      }
    ],
    "editRowTitle": "Edit Parameter",
    "type": "PARAM_TABLE",
    "newRowButtonText": "+ Add Param"
  },
  {
    "help": "Up to 7 custom reporting dimensions can be added to split out revenue reporting.",
    "displayName": "Custom Reporting Dimensions",
    "name": "custom_dimensions_array",
    "paramTableColumns": [
      {
        "param": {
          "macrosInSelect": false,
          "selectItems": [
            {
              "displayValue": "Key 1",
              "value": "site_reporting_value_01"
            },
            {
              "displayValue": "Key 2",
              "value": "site_reporting_value_02"
            },
            {
              "displayValue": "Key 3",
              "value": "site_reporting_value_03"
            },
            {
              "displayValue": "Key 4",
              "value": "site_reporting_value_04"
            },
            {
              "displayValue": "Key 5",
              "value": "site_reporting_value_05"
            },
            {
              "displayValue": "Key 6",
              "value": "site_reporting_value_06"
            },
            {
              "displayValue": "Key 7",
              "value": "site_reporting_value_07"
            }
          ],
          "displayName": "Custom Reporting Key",
          "simpleValueType": true,
          "name": "custom_reporting_key",
          "type": "SELECT"
        },
        "isUnique": true
      },
      {
        "param": {
          "macrosInSelect": true,
          "selectItems": [],
          "displayName": "Custom Value",
          "simpleValueType": true,
          "name": "custom_reporting_value",
          "type": "SELECT"
        },
        "isUnique": false
      }
    ],
    "type": "PARAM_TABLE",
    "newRowButtonText": "+ Add Custom Value",
    "newRowTitle": "Edit Custom Value"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

var copyFromWindow = require('copyFromWindow');
var setInWindow = require('setInWindow');

var defaultTagUrl = "https://a.cdn.intentmedia.net/javascripts/v1/intent_media_core.js";

var IntentMediaProperties = copyFromWindow("IntentMediaProperties") || {};

var tagParams = data.tag_param_array || [];
for (var i = 0; i < tagParams.length; i++) {
  var tagParam = tagParams[i];
  IntentMediaProperties[tagParam.tag_param] = tagParam.tag_param_value;
}

var customDimensions = data.custom_dimensions_array || [];
for (var j = 0; j < customDimensions.length; j++) {
  var customDimension = customDimensions[j];
  IntentMediaProperties[customDimension.custom_reporting_key] =
      customDimension.custom_reporting_value;
}

IntentMediaProperties.site_name = data.site_name;
IntentMediaProperties.page_id = data.page_id;
IntentMediaProperties.site_country = data.site_country;
IntentMediaProperties.site_language = data.site_language;
IntentMediaProperties.site_currency = data.site_currency;

setInWindow('IntentMediaProperties', IntentMediaProperties, true);

var IntentMedia = copyFromWindow("IntentMedia");
if (IntentMedia && IntentMedia.trigger) {
  var callInWindow = require('callInWindow');
  callInWindow('IntentMedia.trigger', "refresh");
} else {
  var encodeUri = require('encodeUri');
  var injectScript = require('injectScript');
  var url = data.tag_url != "" ? encodeUri(data.tag_url) : encodeUri(defaultTagUrl);
  injectScript(url);
}
// Call data.gtmOnSuccess when the tag is finished.
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "IntentMediaProperties"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "IntentMedia"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.intentmedia.net/"
              },
              {
                "type": 1,
                "string": "https://*.cdn.intentmedia.net/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 23/03/2020, 10:31:28


